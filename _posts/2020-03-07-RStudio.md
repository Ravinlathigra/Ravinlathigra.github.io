---
title: "Getting to know RStudio"
Date: 2020-03-07
tags: [R, Data Science, IDE]
header:
    image:"/images/2020-03-06-r.jpg"
excerpt: "Getting familiar with the RStudio Environment"
---

### Introduction

If you have made it to this document you now have `R` and `RStudio` installed on your local machine and we can begin to explore this new environment!

Recall that `RStudio` is an Integrated Development Environment (IDE) which gives us a much more user friendly environment to develop our code in.


### Exploring RStudio IDE

Since we are going to be using `RStudio` going forward, we should take some time to get more familiar with it.

After installing `R` and `RStudio` when `RStudio` is launched 4 panes will be displayed.

+ Editor

  The **Editor** pane is where our source code will be located.  As we develop code to analyze data, we will be making edits to source code files.  

+ Console

  The **console** is where code is evaluated.  There are two ways code can be evaluated:



  1. Directly in the Console.

      In some cases, we may wish to carry out ad-hoc calculations.  If we do not want to explicitly save the code to evaluate these calculations we can enter a command directly in the console.  The following code chunk shows a command which returns the string **hello World!**.  A common command that is entered into the console is `getwd()` which returns the working directory.  


```r

print("Hello World!")

```



  2. Code from source code files
      
  The other way to **run** our code is to either select a portion (entire or subset) of the source code and use the short cut `Ctrl` & `Enter`.  This will send executable code from the source file to the console to run.  This is what we will be using unless there are adhoc calculations we wish to test.


+ Information

  The **information** pane contains a few different tabs (**Files**, **Plots**, Packages, **Help**, and Viewer).  **Files** shows the working directory, **Plots** shows the plots generated by code, and **Help** provides documentation for functions you need more information for.


+ Environment

  The environment window shows any variables that have been declared.  More details will be provided in later documentation.


`RStudio` is open-source and there are many indiviudals/organizations that contribute to its development to faciltiate work carried out in R.  A great form of documentation are **RStudio Cheat Sheets** which provide a brief overview of the most essential packages (we will discuss these laters), and features of various tools.  As you are getting familliar with this new environment I emplore your to explore their **RStudio IDE Cheat sheet** to get a better understanding of the IDE.

https://rstudio.com/resources/cheatsheets/

![Sample of RStudio](/images/Getting to know RStudio/sample-rstudio-cheat-sheet.PNG)

### Markdown Documents

There is a big push to promote **reproducable research**; the idea that if you were to give source code to any individual and they followed your analysis step-by-step they should produce the same output.  An excellent feature of RStudio is the ability to develop `R Markdown Documents` which combines text and code and compiles a report.  If this document was given to any individual with the same `R` environment, they would exactly reproduce your report.  

I initally learnt `R` using what is known as `Base R` code (Native R commands) and tested/ran code in the `R Graphical User Interface (GUI)`.  The following image (Left side: Console, Right Side: Source Code) shows how aesthetically displeasing this GUI is relative to the `RStudio IDE`. 

![Sample of R GUI](/images/Getting to know RStudio/Base-R.jpg)

When I would create reports to summarize my analysis there were two distinct components:

1. Develop R Code

2. Copy Output to Word Doc and add suuporting text.


This approach is proned to errors and does not promote transparency between analysis and the final product.  In fact, under this approach, even if the source code was included in the final report, it is not in a form that could be easily re-run on a different machine to replicate results.  There is a clever workaround to this problem.  Academics in mathematical disciplines have long been able to leverage technologies to integreate text and calculation into one product.  This concept is not novel, but essential in developing reproducable reports.

As we continue to develop our `R` skills we will leverage `Markdown` documents.  Markdown is a framework that allows us to supplement code text and plain-text-formatting sytnax to format the text and convert the product to many output types (e.g. PDF, HTML ect.).

#### Creating a `R Markdown` document


Creating an `R Markdown` file is simple:

> 
1. File 
2. R Markdown 

Once you have created the document you will see something like this:

![R Markdown Template](/images/Getting to know RStudio/r-markdown-template.JPG)


This is the default template for a `R markdown` file and showcases some important features of the markdown file.

1. <font color='orange'> Title and document formatting section</font> 

The first section of the markdown sections begins and ends with --- which denotes a section. This section is referred to as a text chunk i.e. there is no code.  Within the section there are 4 arguments which R knows control aspects of the document:

> Title: Any value entered in this argument will be the title printed in the final report

> Author: Name of the creator.  (Note: Mine defaults to Ravin)

> Date: Automatically populates with the date the document is created, but can be manually updated as required.

> Output:  Output lets the document know what format the final product should be.  For most cases, it can be defined as **html_document** though for my purposes this document was formated as a **github_document** which renders nicely on Github and BitBucked (Will be discussed later).

2. <font color='red'> Code chunk defining global parameters</font> 

The second section introduces users to a code chunk.  Code chunks are specified by the following syntax

---

\```{r}

\```

---

R recognizes any input between the \``` as code which when the report is compiled will be run.  This allows us to be able to make reproducable reports of which we can give to anyone else and they will be able to replicate the entire report.

Let's discuss the anatomy of the code chunk in greater detail.  The braces, {}, in the above section define the parameters of the code chunk.  More simply, when the report is being created the arguments in the braces tell the computer how to handle and report the code.

The first identified code chuck the braces show:

> {r setup, include=FALSE}

arguments are separated by `,` so we should more appropriately read the arguments as:

> {**r setup**, **include=FALSE**}

The first argument **r setup** tells the compiler 2 pieces of information, the first being that this is an `R` code chunk and the second being the name of the chunk is **setup**.  

The second argument **include = FALSE** tells the compiler to run the code within the chunk but to not display the code or the output.  Recall that the `Rmarkdown` document is reproducable so in many cases we may wish to supress output and code for non-essential code chunks.  


Now that we understand what the arguments of the code chunk are, let's move on to the code within the chunk to understand what is going on.

> knitr::opts_chunk$set(echo = TRUE)

The above code has three components:

+ **knitr::** Whenever you see text followed by `::` this should be interpreted as within a package, in this case the `knitr` package, find a particular function

+ **opts_chunk$set()** This is the function that is being referenced from the `knitr` package discussed previously.  This function will take arguments and apply them to all code chunks throughout the markdown document.  In some cases, we may wish to have some chunks with different behaviour, in which case we can define them manually by setting the arguments within the braces, {}, of the code chunk.  

+ **echo = TRUE** This is the argument passed to the previous function.  `echo` is a parameter of a code chunk which tells the compiler whether or not to show the code in the final document.  In this case all future code chunks will display the code in the document unless otherwise stated in the arguments.


3. <font color='limegreen'> Combining text and code</font> 

The third section has both a text and code component and begins with `## R Markdown`.  When you see # in text sections of `R markdown` documents it indicates that the following text is a header.  The more # (i.e. ##, ###, #### ect) tell the compiler what type of header.  The more #s the smaller the header. 

After the header, there is some standard text with one word coloured differently than the rest.  When we are working within the `RStudio IDE` everytime a format is being applied to text we will see colours change to indicate where the change is occuring. In this case **Knit** is bolded.  To bold text we preceed the word with ** and stop bolding after the word(s) with `**.

4. <font color='lightblue'> Combining text and code with parameter adjustments </font> 

The final code chunk updates the chunk arguments to `echo  = FALSE` which tells the compiler to not include the code in the final document.  Note: the code will still be run and output in the compiled document, but the source code will not be provided.


### Code Chunk Arguements

We have discussed a few different type of arguments we can pass through to code chunks, but I will introduce a few others that will be important as you go off to develop your own documents.

1. Eval

While the `Echo` argument controls our ability to display or hide source code, `Eval` controls whether or not we evalute (run) the code as we compile our `Rmarkdown` documents.  The default argument is `Eval = True`, thus all code chucks will be evaluated unless otherwise specified.  

Why might we not want to run code when we compile the `Rmarkdown` document?  There are two cases where I tend to not evaluate code chunks in my documents.  The first case is when I provide code for demonstrative purposes only.  As you will see throughout these articles, I will provide sample code for you to try.  As we get into more advanced modelling techniques the computational requirements 

### Useful Formatting

As you embark on your journey to understand `Rmarkdown` here is some syntax of useful formatting I use when creating `Rmarkdown` documents.

# \# Header 1

## \#\# Header 2

### \#\#\#  Header 3

To create a horizontal line separating sections, use `---`

**Bold** -> `**bold**`

**Italics** -> `*italics*`


**Numbered List**

1\. Item 1

2\. Item 2

3\. Item 3

4\. Item 4

5\. Item 5

**Bullet List**

\+ Item 1

\+ Item 2

\+ Item 3

\+ Item 4

\+ Item 5


Superscript^2^ -> `Superscript^2^`

Subscript^~2~^ -> `Subscript^~2~^`

**Insert Image** `![Caption]("imagepathway)`

**Link** `[link](URL)`

#### Questions? Ask Me!

For more information about `RMarkdown` feel free to reach out [Contact Data Science Resource Group](<mailto:ravin.lathigra@canadalife.com?subject=DSRG RMarkdown Question>)

